# Data Harvest — 2026-02-09

Consolidated findings from stale branches, worktrees, and `tools/_scratch/` before cleanup.

---

## Branch Harvest

### Branches with unique code (not in main)

**feat/platinum-consolidation** (current, 2 ahead of main)
- Added Platinum Code module (`Golden Code/vraxion/platinum/`)
- Added probe11 (fib-volume-weight) + auto-launching Streamlit dashboard
- Status: merge into main via PR

**vra-78/sweep-harden-v1** (merged to main via PRs #75-#78)
- Ant ratio plot improvements: desirability scoring, tier symbols, partial row handling
- Sweep reliability: incremental flush, eval retry, device fixes
- All changes already in main — safe to delete

**wip/local-main-cd668d8** (unique, never merged)
- Ideas→Linear pipeline: `ideas_parser.py`, `linear_client.py`, `post_brainstorm.py`
- GitHub Actions workflow: `linear-list.yml`
- Tests: `test_ideas_parser.py`, `test_linear_client.py`, `test_post_brainstorm.py`
- Status: useful scaffold but not production-ready — document and archive

**add-claude-github-actions-1770609248001** (remote only)
- Claude Code GitHub Actions: `claude.yml`, `claude-code-review.yml`
- Triggers on PR/issue comments containing `@claude`
- Status: useful CI/CD addition — cherry-pick into nightly

**All other stale branches** (chore/repo-move-owner-links, vra-78-ant-ratio-refinement-v1, vra-78-capability-step-cap-fix, vra-78-reliability-hardening, vra-78/cap-eval-device-v1, copilot-worktree)
- Changes already merged to main via PRs
- Safe to delete

---

## _scratch/ Harvest

### Algorithms Worth Preserving

**1. Two-Window Plateau Detection** (`vra79_plateau_stop.py`)
- Micro-curve: gain < 0.0005 over last 512 checkpoints
- Medium-curve: slope <= 0.0 over last 2048 checkpoints
- Both conditions must be true simultaneously
- Warmup: 2000 steps, hard max: 10000 steps
- Poll interval: 15s

**2. CI-Gate Early Stop** (`vra79_ci_gate_stop.py`)
- Watches `eval_stream.jsonl` for statistical significance
- Stop when: ci_low > chance_acc for N consecutive evals (default 3)
- Confidence: 95% or 99%
- eval_n: 2048, poll: 10s

**3. Fibonacci Swarm Voting** (`probe10_fib_smoke.py`)
- Ring-length-weighted voting: bigger ant = bigger voice
- Weights normalized: w_i = ring_len_i / sum(ring_lens)
- Message volatility analysis via lag-1 autocorrelation
- Kendall tau validates specialization (ring_len vs autocorr)

### Campaign Results

**AGC Oscillation Diagnosis** (`campaign_results.json`)

| Config | Task | Steps | Loss | Acc | Trend |
|--------|------|-------|------|-----|-------|
| byte_agc_on | assoc_byte | 200 | 6.324 | 0.36% | Oscillating |
| byte_agc_off | assoc_byte | 200 | 5.551 | 0.48% | Decreasing |
| clean_agc_on | assoc_clean | 200 | 0.719 | 49.1% | Oscillating |
| clean_agc_off | assoc_clean | 200 | 0.693 | 50.0% | Monotonic |

Finding: Oscillation is AGC × task-difficulty interaction. Neither alone is the cause.

**Platinum Probe Validation** (`platinum_probe.py`)

| Probe | Result |
|-------|--------|
| Smoke (shape/scale) | PASS (scale=1.0) |
| Parity (platinum vs instnct) | PASS (diff < 1e-5) |
| Gradient Flow | PASS (~200 alive params) |
| Ring Liveness | PASS (accumulates) |
| AGC Bug (scale=1.0 vs 0.01) | delta > 5pp = bug confirmed |
| Precision Shot (500-step A/B) | PASS (repro check) |
| Infinite Assoc (streaming) | 26 keys × 4 pairs |
| Ring ON/OFF | delta > 5pp = ring needed |

### Configuration Patterns

**Saturation Entry** (`vra79_saturation_entry.py`)
- All knobs via env vars (VRX_* prefix) + argparse
- max_steps=0 + ignore_max_steps=1 → unbounded
- save_every and eval_every decoupled

**Matrix Campaign** (`vra79_hashmap_matrix_campaign.py`)
- Triple-seed testing: [123, 231, 312]
- Three-class verdict: winner_fibo_d / fail_fibo_d / tie
- Margin: ≥0.01, tie margin: ≤0.005, need ≥2 seeds

### Key Thresholds

- Plateau gain threshold: 0.0005
- Medium-curve slope threshold: 0.0
- CI gate: 95% (marginal), 99% (strict)
- Accuracy success: >70% (easy), >5pp improvement (vs baseline)
- Scale bug: >5pp delta = confirmed critical

### Lessons Learned

1. **Two-scale plateau detection** (micro + medium) beats single-window
2. **Ring-size weighting** is interpretable and stable for multi-scale learning
3. **Factorial campaigns** (task × config) cleanly isolate root causes
4. **Deterministic seeding** + shared data = confident bug diagnosis
5. **CI-based early stop** is interpretable (statistical, not heuristic)
6. **AGC oscillation** is task-difficulty dependent, not a universal problem
7. **Stateful log tailing** with offset tracking is robust for monitoring

---

## Ideas Pipeline (from wip/local-main branch)

A scaffold for posting brainstorm ideas to Linear:
- `ideas_parser.py` — parse markdown/plaintext idea lists
- `linear_client.py` — lightweight Linear API adapter
- `post_brainstorm.py` — CLI with dry-run default, --apply for live posts
- GitHub Action: `linear-list.yml` — list teams/board from CI

Status: Scaffold only. Not wired into production workflow.

---

## Claude Code CI (from remote branch)

Two GitHub Actions workflows:
- `claude.yml` — triggers on @claude mentions in issues/PRs
- `claude-code-review.yml` — auto-review on PR open/sync

Status: Ready to cherry-pick. Requires `CLAUDE_CODE_OAUTH_TOKEN` secret.
